---
import Layout from "../layouts/Layout.astro";
---

<Layout title="Member Login | AmicBridge">
  <section class="py-16 max-w-xl mx-auto text-center">
    <h1 class="text-3xl font-bold mb-4 text-white">Member Login</h1>
    <p class="text-gray-300 mb-6">
      Access is issued manually after payment.  
      Once youâ€™ve paid, use the private link or access code we send to you.
    </p>

    <form id="gate-form" class="mt-10 max-w-sm mx-auto">
      <input
        id="gate-code"
        type="password"
        placeholder="Access code"
        class="w-full mb-3 px-4 py-3 rounded-lg bg-gray-800 text-white"
      />
      <button
        type="submit"
        class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg"
      >
        Enter
      </button>
    </form>

    <p class="text-sm text-gray-400 mt-6">
      Need help? Email <strong>info@amicbridge.com</strong>.
    </p>
  </section>

  <script is:inline>
    if (typeof window !== "undefined") {
      const form = document.querySelector("#gate-form");
      form?.addEventListener("submit", (e) => {
        e.preventDefault();
        const input = document.querySelector("#gate-code");
        const code = input?.value?.trim();
        // Change this code to whatever secret key you send to members
        if (code === "AMIC-ACCESS") {
          window.location.href = "/investments";
        } else {
          alert("Invalid access code. Please check your email.");
        }
      });
    }
  </script>
</Layout>
